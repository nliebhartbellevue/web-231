<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500"
      rel="stylesheet"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Exercise 8.3</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../site.css" />
    <style>
      body {
        font-family: 'Roboto';
      }

      tr:nth-child(odd) {
        background-color: #fdaeae;
      }

      .top-bar {
        width: 100%;
        height: 2rem;
        background-color: blueviolet;
      }

      section {
        margin: 20px 0 0 20px;
      }
    </style>
  </head>
  <body>
    <div class="top-bar"></div>
    <section>
      <h3>Title</h3>

      <p id="pOne">
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Obcaecati
        animi laudantium corrupti fugiat nostrum sequi, numquam iusto incidunt.
        Recusandae commodi velit saepe cupiditate eligendi voluptas
        perspiciatis? Odio suscipit debitis earum.
      </p>

      <button id="btnToggle">Toggle</button>
    </section>

    <section>
      <div id="fruits"></div>
    </section>

    <script>
      $(document).ready(function() {
        $('#btnToggle').click(function() {
          $('p').toggle();
        });

        const Orange = new Fruit(1, 'Orange'),
          Banana = new Fruit(2, 'Banana'),
          Apple = new Fruit(3, 'Apple'),
          Pear = new Fruit(4, 'Pear'),
          Mango = new Fruit(5, 'Mango');

        let fruits = [Orange, Banana, Apple, Pear, Mango];
        const list = document.getElementById('fruits');

        let tbl =
          '<table><thead><tr><th>ID</th><th>Type</th></tr></thead><tbody>';
        fruits.forEach(function(x) {
          tbl += `<tr><td>${x.id}</td><td>${x.type}</td></tr>`;
        });
        tbl += '</ul>';

        list.innerHTML = tbl;

        function Fruit(id, type) {
          this.id = id;
          this.type = type;
        }

        $('td').click(alertFruit);

        function alertFruit(x) {
          const i = $(this)
            .parent()
            .index();
          const y =
            $(this)
              .parent()
              .index() + 1;

          const txt = `ID: ${fruits[i].id} is a ${fruits[i].type}!`;

          switch (y) {
            case 1:
              alert(txt);
              break;
            case 2:
              alert(txt);
              break;
            case 3:
              alert(txt);
              break;
            case 4:
              alert(txt);
              break;
            case 5:
              alert(txt);
              break;
            default:
              break;
          }
        }
      });
    </script>
  </body>
</html>
